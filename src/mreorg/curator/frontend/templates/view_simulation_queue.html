
{% extends "base.html" %}
{% block contents %}
<META HTTP-EQUIV="REFRESH" CONTENT="10">

<div class="section">

<div class='sectionheader'> 
    <h2><a>Recently Completed Runs</a></h2> </div>

<table class='std'>


<tr>
  <th> File </th>
  <th> Last Run </th>
  <th> Result </th>
  <th> DocString </th>
</tr>
{% for latest_run in latest_runs %}
<tr class="{{ latest_run.simulation_file.get_status}}">
    <td> <a href="/simulationfiles/{{latest_run.simulation_file.id}}"> {{latest_run.simulation_file.get_short_filename }} </a> </td>
    <td> <a href="/simulationfileruns/{{latest_run.simulation_file.get_latest_run.id}}">{{latest_run.simulation_file.get_latest_run.execution_date}} </td>
    <td> {{latest_run.simulation_file.get_latest_run.get_status}} </td>
    <td> {{latest_run.simulation_file.get_docstring}} </td>
</tr>

{% endfor %}


</table>
</div>







<div class="section">
<div class='sectionheader'> 
    <h2><a>Simulations Currently Running</a></h2> </div>
<table class='std'>
  <tr>
    <th>  </th>
    <th> Filename </th>
    <th> Simulation Time </th>
  </tr>

  {% for queuedsim in simulation_queue_executing %}
  <tr>
    <td> {{queuedsim.simulation_file.get_last_executiontime }} </td>
    <td> {{queuedsim.simulation_file.get_short_filename}} </td>
    <td> {{queuedsim.get_simulation_time}} </td>
  </tr>
  {%endfor %}
</table>


</div>




<div class="section">

<div class='sectionheader'> 
    <h2><a>Simulations in Queue</a></h2> </div>

<form action="/do/removesimulationsfromqueue" method="post">
{% csrf_token %}

<table class='std'>
  <tr>
    <th>  </th>
    <th> Filename </th>
  </tr>

  {% for queuedsim in simulation_queue %}
  <tr>
    <td> <input type="checkbox" name="queuedsimid_{{queuedsim.id}}"> </td>
    <td> {{queuedsim.simulation_file.get_last_executiontime }} </td>
    <td> {{queuedsim.simulation_file.get_short_filename}} </td>
  </tr>
  {%endfor %}
</table>
<input type="submit" value="Remove from queue"/>
</form>

</div>
{% endblock %}
